{"version":3,"sources":["js/angular/services.js","js/angular/controllers.js","js/angular/app.js","js/jquery.cookie.js","includes/delete_modal.js","includes/cross_form.js","includes/cross_base.js","includes/article_form.js","includes/article_base.js"],"names":["crossServices","angular","module","factory","baseUrl","$resource","BaseUrl","query","method","params","articleID","isArray","update","crossID","crossControllers","controller","$scope","$http","Article","Cross","Meta","csrftoken","$","cookie","articles","crossList","value","response","companies","company","categories","ethicssubcategory","deleteModal","removeFromList","item","list","index","some","elem","i","id","splice","crossForm","articleTemplate","analysis","error","msg","cancel","articleSubmit","tempArticle","csrfmiddlewaretoken","article","extend","JSON","stringify","data","readyForm","flipBack","articleForm","success","url","title","notes","save","push","modalContent","label","kind","itemDelete","element","array","modal","removeClass","remove","buttons","crossUrl","crossEdit","newCross","cross","grep","v","name","subcategory","crossCancel","crossSubmit","score","length","config","$resourceProvider","defaults","stripTrailingSlashes","define","amd","exports","require","jQuery","encode","s","raw","encodeURIComponent","decode","decodeURIComponent","stringifyCookieValue","json","String","parseCookieValue","indexOf","slice","replace","pluses","parse","e","read","converter","isFunction","key","options","undefined","expires","days","t","Date","setTime","document","toUTCString","path","domain","secure","join","result","cookies","split","l","parts","shift","removeCookie","run","$templateCache","put"],"mappings":"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","file":"app.min.js","sourcesContent":["var crossServices = angular.module('crossServices',['ngResource']);\n\n// use for setting the API endpoint location\ncrossServices.factory('BaseUrl', [function () {\n  var baseUrl = 'http://api.axiologue.org/';\n\n  return baseUrl;\n}]);\n\n// For making Article-related API calls\ncrossServices.factory('Article',['$resource', 'BaseUrl',\n  function ($resource, BaseUrl){\n    return $resource(BaseUrl + 'cross/articles/:articleID/', {}, {\n      query: {method:'GET', params:{articleID:'all'}, isArray:true},\n      update: {method: 'PUT'}\n  });\n}]);\n\n// For making tag-related API calls\ncrossServices.factory('Cross',['$resource', 'BaseUrl',\n  function ($resource, BaseUrl) {\n    return $resource(BaseUrl + 'cross/cross/:crossID/',{},{\n      query: {method:'GET',params:{crossID:'list'},isArray:true},\n      update: {method: 'PUT'}\n    });\n}]);\n\n// For getting company and ethics lists, used in form-making\ncrossServices.factory('Meta',['$resource', 'BaseUrl',\n  function ($resource, BaseUrl) {\n    return $resource(BaseUrl + 'cross/formMeta',{},{\n      query: {method:'GET',params:{crossID:'list'},isArray:true},\n    });\n}]);","'use strict';\n\nvar crossControllers = angular.module('crossControllers',[]);\n\ncrossControllers.controller('BodyCtrl',['$scope','$http','Article','Cross','Meta',function ($scope,$http,Article,Cross,Meta) {\n  $scope.csrftoken = $.cookie('csrftoken');\n  $scope.articles = Article.query();\n  $scope.crossList = Cross.query();\n\n  Meta.query(function (value, response) {\n    $scope.companies = value[0].company;\n    $scope.categories = value[1].ethicssubcategory;\n  });\n\n  $scope.deleteModal = 'templates/includes/delete_modal.html';\n\n  $scope.removeFromList = function (item, list) {\n    var index = 0;\n      list.some(function(elem, i) {\n        if (elem.id === item.id) {\n          index = i;\n          return true;\n        }\n      });\n      list.splice(index,1);\n  };\n}]);\n\n\n\ncrossControllers.controller('SingleArticleCtrl',['$scope', 'Article','Cross',function ($scope, Article, Cross) {\n\n  $scope.crossForm = 'templates/includes/cross_form.html';\n  $scope.articleTemplate = 'templates/includes/article_base.html';\n  $scope.analysis = {analysis:false};\n  $scope.error = {\n    error: false,\n    msg: \"\"\n  };\n  $scope.cancel = true;\n\n  $scope.articleSubmit = function () {\n    $scope.tempArticle.csrfmiddlewaretoken = $scope.csrftoken;\n\n    Article.update({articleID: $scope.article.id},$scope.tempArticle,function () {\n      $scope.articleTemplate = 'templates/includes/article_base.html';\n      $scope.article = $.extend({},$scope.tempArticle);\n    },function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n    });\n  };\n\n  $scope.readyForm = function() {\n    $scope.tempArticle = $.extend({},$scope.article);\n    $scope.articleTemplate = 'templates/includes/article_form.html';\n  };\n\n  $scope.flipBack = function () {\n    $scope.articleTemplate='templates/includes/article_base.html';\n  }; \n\n}]);\n\ncrossControllers.controller('NewArticleCtrl',['$scope','Article',function ($scope, Article) {\n  $scope.articleForm = 'templates/includes/article_form.html';\n  $scope.error = {error: false,\n                  msg: \"\"};\n  $scope.success = {success: false,\n                    msg: \"Your article has been sucessfully submitted\"};\n\n  $scope.tempArticle = {\n    id: 0,\n    url: \"\",\n    title: \"\",\n    notes: \"\"\n  };\n\n  $scope.articleSubmit = function () {\n    $scope.tempArticle.csrfmiddlewaretoken = $scope.csrftoken;\n\n    Article.save({articleID:'new'},$scope.tempArticle,function (value, response) {\n      $scope.articles.push(value);\n      $scope.tempArticle = {\n        id: 0,\n        url: \"\",\n        title: \"\",\n        notes: \"\"\n      };\n      $scope.error.error = false;\n      $scope.success.success = true;\n    },function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n      $scope.success.success = false;\n    });\n  };\n\n\n}]);\n\ncrossControllers.controller('ArticleDeleteCtrl',['$scope','Article',function ($scope,Article) {\n  $scope.modalContent = {\n    id: 'modal-article-' + $scope.article.id,\n    label: 'modalLabel-article-' + $scope.article.id,\n    kind: 'Article',\n    title: $scope.article.title,\n    msg: 'This will not only remove the article, but any associated analysis that has been done on it.  This cannot be undone'\n  };\n\n  $scope.itemDelete = function () {\n    $scope.article.csrfmiddlewaretoken = $scope.csrftoken;\n\n    Article.delete({articleID: $scope.article.id},function () {\n      if ($scope.articles.some(function (element, index, array) { return element.id === $scope.article.id; })) {\n        $scope.removeFromList($scope.article,$scope.articles);\n      } else {\n        $scope.removeFromList($scope.article,$scope.crossList);\n      }\n      \n\n      $('myModal' + $scope.article.id).modal('toggle');\n      $('body').removeClass('modal-open');\n      $('.modal-backdrop').remove();\n    });\n  };\n}]);\n\ncrossControllers.controller('SingleCrossCtrl',['$scope','Cross',function ($scope,Cross) {\n  $scope.buttons = false;\n  $scope.crossUrl = 'templates/includes/cross_base.html';\n\n  $scope.crossEdit = function () {\n    \n    $scope.crossUrl = 'templates/includes/cross_form.html';\n    $scope.newCross = $.extend({},$scope.cross);\n    $scope.newCross.company = $.grep($scope.companies,function(v) {return v.name === $scope.newCross.company})[0].id;\n    $scope.newCross.subcategory = $.grep($scope.categories,function(v) {return v.name === $scope.newCross.subcategory})[0].id;\n  };\n\n  $scope.crossCancel = function () {\n    \n    $scope.crossUrl = 'templates/includes/cross_base.html';\n\n  };\n\n  $scope.crossSubmit = function () {\n    $scope.newCross.article = $scope.article.id;\n\n    Cross.update({crossID:$scope.cross.id},$scope.newCross,function (value, response) {\n      // Replace element IDs with actual names\n      value.company = $.grep($scope.companies,function(v) {return v.id === value.company})[0].name;\n      value.subcategory = $.grep($scope.categories,function(v) {return v.id === value.subcategory})[0].name;\n\n      $scope.cross = $.extend({},value);\n      $scope.error.error = false;\n\n      $scope.crossUrl = 'templates/includes/cross_base.html';\n\n    }, function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n    });\n  };\n}]);\n\ncrossControllers.controller('NewCrossCtrl',['$scope','Cross',function ($scope,Cross) {\n  $scope.newCross = {\n    company: \"\",\n    subcategory: \"\",\n    notes: \"\",\n    score: \"\",\n    article: $scope.article.id\n  };\n\n  $scope.crossSubmit = function () {\n    $scope.newCross.csrfmiddlewaretoken = $scope.csrftoken;\n\n\n    Cross.save({crossID: 'new'},$scope.newCross,function (value,response) {\n      $scope.article.data = $scope.article.data || [];\n\n      // Replace element IDs with actual names\n      value.company = $.grep($scope.companies,function(v) {return v.id === value.company})[0].name;\n      value.subcategory = $.grep($scope.categories,function(v) {return v.id === value.subcategory})[0].name;\n\n      $scope.article.data.push(value);\n      $scope.analysis.analysis = false;\n      $scope.error.error = false;\n\n      //if the article is in the Unanalyzed list, move it to the analyzed list\n      if($scope.article.data.length === 1) {\n        $scope.crossList.push($scope.article);\n        $scope.removeFromList($scope.article,$scope.articles);\n      }\n    },function (response) {\n      $scope.error.msg = JSON.stringify(response.data);\n      $scope.error.error = true;\n    });   \n  };\n\n}]);\n\ncrossControllers.controller('CrossDeleteCtrl',['$scope','Cross',function ($scope,Cross) {\n  $scope.modalContent = {\n    id: 'modal-cross-' + $scope.article.id + '-' + $scope.cross.id,\n    label: 'modalLabel-cross-' + $scope.article.id + '-' + $scope.cross.id,\n    kind: 'Analysis',\n    title: $scope.cross.subcategory + ': ' + $scope.cross.score,\n    msg: 'This cannot be undone'\n  };\n\n  $scope.itemDelete = function () {\n\n    Cross.delete({crossID:$scope.cross.id}, function (value,response) {\n      $scope.removeFromList($scope.cross,$scope.article.data);\n      if ($scope.article.data.length === 0) {\n        $scope.removeFromList($scope.article,$scope.crossList);\n        $scope.articles.push($scope.article);\n      }\n\n      $('myModal' + $scope.article.id).modal('toggle');\n      $('body').removeClass('modal-open');\n      $('.modal-backdrop').remove();\n    });\n  };\n}]);","'use strict';\n\nvar cross = angular.module('cross', [\n  'crossControllers',\n  'crossServices'\n]);\n\ncross.config(['$resourceProvider',function($resourceProvider) {\n  $resourceProvider.defaults.stripTrailingSlashes = false;\n}]);","/*!\n * jQuery Cookie Plugin v1.4.1\n * https://github.com/carhartl/jquery-cookie\n *\n * Copyright 2013 Klaus Hartl\n * Released under the MIT license\n */\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// CommonJS\n\t\tfactory(require('jquery'));\n\t} else {\n\t\t// Browser globals\n\t\tfactory(jQuery);\n\t}\n}(function ($) {\n\n\tvar pluses = /\\+/g;\n\n\tfunction encode(s) {\n\t\treturn config.raw ? s : encodeURIComponent(s);\n\t}\n\n\tfunction decode(s) {\n\t\treturn config.raw ? s : decodeURIComponent(s);\n\t}\n\n\tfunction stringifyCookieValue(value) {\n\t\treturn encode(config.json ? JSON.stringify(value) : String(value));\n\t}\n\n\tfunction parseCookieValue(s) {\n\t\tif (s.indexOf('\"') === 0) {\n\t\t\t// This is a quoted cookie as according to RFC2068, unescape...\n\t\t\ts = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\n\t\t}\n\n\t\ttry {\n\t\t\t// Replace server-side written pluses with spaces.\n\t\t\t// If we can't decode the cookie, ignore it, it's unusable.\n\t\t\t// If we can't parse the cookie, ignore it, it's unusable.\n\t\t\ts = decodeURIComponent(s.replace(pluses, ' '));\n\t\t\treturn config.json ? JSON.parse(s) : s;\n\t\t} catch(e) {}\n\t}\n\n\tfunction read(s, converter) {\n\t\tvar value = config.raw ? s : parseCookieValue(s);\n\t\treturn $.isFunction(converter) ? converter(value) : value;\n\t}\n\n\tvar config = $.cookie = function (key, value, options) {\n\n\t\t// Write\n\n\t\tif (value !== undefined && !$.isFunction(value)) {\n\t\t\toptions = $.extend({}, config.defaults, options);\n\n\t\t\tif (typeof options.expires === 'number') {\n\t\t\t\tvar days = options.expires, t = options.expires = new Date();\n\t\t\t\tt.setTime(+t + days * 864e+5);\n\t\t\t}\n\n\t\t\treturn (document.cookie = [\n\t\t\t\tencode(key), '=', stringifyCookieValue(value),\n\t\t\t\toptions.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n\t\t\t\toptions.path    ? '; path=' + options.path : '',\n\t\t\t\toptions.domain  ? '; domain=' + options.domain : '',\n\t\t\t\toptions.secure  ? '; secure' : ''\n\t\t\t].join(''));\n\t\t}\n\n\t\t// Read\n\n\t\tvar result = key ? undefined : {};\n\n\t\t// To prevent the for loop in the first place assign an empty array\n\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t// calling $.cookie().\n\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\n\t\tfor (var i = 0, l = cookies.length; i < l; i++) {\n\t\t\tvar parts = cookies[i].split('=');\n\t\t\tvar name = decode(parts.shift());\n\t\t\tvar cookie = parts.join('=');\n\n\t\t\tif (key && key === name) {\n\t\t\t\t// If second argument (value) is a function it's a converter...\n\t\t\t\tresult = read(cookie, value);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Prevent storing a cookie that we couldn't decode.\n\t\t\tif (!key && (cookie = read(cookie)) !== undefined) {\n\t\t\t\tresult[name] = cookie;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconfig.defaults = {};\n\n\t$.removeCookie = function (key, options) {\n\t\tif ($.cookie(key) === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Must not alter options, thus extending a fresh object...\n\t\t$.cookie(key, '', $.extend({}, options, { expires: -1 }));\n\t\treturn !$.cookie(key);\n\t};\n\n}));\n","(function(module) {\ntry {\n  module = angular.module('cross');\n} catch (e) {\n  module = angular.module('cross', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/delete_modal.html',\n    '<div id=\"{{modalContent.id}}\" class=\"modal fade\" tab-index=\"-1\" role=\"dialog\" aria-labelledby=\"{{\\'#\\' + modalContent.label}}\"><div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button><h4 class=\"modal-title\" id=\"{{modalContent.label}}\">Delete {{modalContent.kind}}?</h4></div><div class=\"modal-body\"><p>Are you sure you want to delete the {{modalContent.kind.toLowerCase()}} <em>{{modalContent.title}}</em></p><p>{{modalContent.msg}}</p></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> <button type=\"button\" class=\"btn btn-primary\" ng-click=\"itemDelete()\">Delete</button></div></div></div></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('cross');\n} catch (e) {\n  module = angular.module('cross', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/cross_form.html',\n    '<div class=\"col-xs-12 listitem\" ng-show=\"analysis\"><h3 class=\"text-danger\" ng-show=\"error.error\">{{error.msg}}</h3><form ng-submit=\"crossSubmit()\"><div class=\"form-group\"><label for=\"{{\\'companies\\' + article.id}}\">COMPANY:</label><select ng-model=\"newCross.company\" class=\"form-control\" ng-options=\"company.id as company.name for company in companies\"><option value=\"\">---- Select Company ----</option></select></div><div class=\"form-group\"><label for=\"{{\\'companies\\' + article.id}}\">CATEGORY:</label><select ng-model=\"newCross.subcategory\" class=\"form-control\" ng-options=\"category.id as category.name group by category.category for category in categories\"><option value=\"\">---- Select Ethics Category ----</option></select></div><div class=\"form-group\"><label for=\"{{\\'companies\\' + article.id}}\">Score:</label><select ng-model=\"newCross.score\" class=\"form-control\" ng-options=\"score for score in [-5,-4,-3,-2,-1,1,2,3,4,5]\"><option value=\"\">---- Select Score ----</option></select></div><div class=\"form-group\"><label for=\"{{\\'crossNotes\\' + article.id}}\">NOTES:</label><textarea rows=\"3\" ng-model=\"newCross.notes\" name=\"notes\" id=\"{{\\'crossNotes\\' + article.id}}\" class=\"form-control\"></textarea></div><input type=\"submit\" class=\"btn btn-primary btn-block\" value=\"Submit\"></form><button class=\"btn btn-delete btn-block\" ng-click=\"crossCancel()\">Cancel</button></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('cross');\n} catch (e) {\n  module = angular.module('cross', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/cross_base.html',\n    '<div class=\"col-xs-12 col-sm-10\"><dl class=\"dl-horizontal\"><dt>{{cross.company}} {{cross.product}}</dt><dd>{{cross.subcategory}}: <span class=\"score\">{{cross.score}}</span></dd><dd><span class=\"text-muted\">{{cross.notes}}</span></dd></dl></div><div class=\"col-xs-12 col-sm-2 crossButtons\" ng-show=\"buttons\"><button class=\"btn btn-sm btn-edit\" ng-click=\"crossEdit()\">Edit</button> <button class=\"btn btn-sm btn-delete\" data-toggle=\"modal\" data-target=\"{{\\'#modal-cross-\\' + article.id + \\'-\\' + cross.id}}\">Delete</button></div><div ng-include=\"deleteModal\" ng-controller=\"CrossDeleteCtrl\"></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('cross');\n} catch (e) {\n  module = angular.module('cross', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/article_form.html',\n    '<div class=\"listitem\"><h3 class=\"text-danger\" ng-show=\"error.error\">{{error.msg}}</h3><h3 class=\"text-success\" ng-show=\"success.success\">{{success.msg}}</h3><form ng-submit=\"articleSubmit()\"><div class=\"form-group\"><label for=\"{{\\'title\\' + article.id}}\">TITLE:</label><input type=\"text\" id=\"{{\\'title\\' + article.id}}\" ng-model=\"tempArticle.title\" name=\"title\" class=\"form-control\"></div><div class=\"form-group\"><label for=\"{{\\'url\\' + article.id}}\">URL:</label><input type=\"text\" id=\"{{\\'url\\' + article.id}}\" ng-model=\"tempArticle.url\" name=\"url\" class=\"form-control\"></div><div class=\"form-group\"><label for=\"{{\\'notes\\' + article.id}}\">NOTES:</label><textarea rows=\"3\" ng-model=\"tempArticle.notes\" name=\"notes\" id=\"{{\\'notes\\' + article.id}}\" class=\"form-control\"></textarea></div><input type=\"submit\" class=\"btn btn-primary btn-block\" value=\"Submit\"></form><button class=\"btn btn-delete btn-block\" ng-click=\"flipBack()\" ng-show=\"cancel\">Cancel</button></div>');\n}]);\n})();\n","(function(module) {\ntry {\n  module = angular.module('cross');\n} catch (e) {\n  module = angular.module('cross', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('templates/includes/article_base.html',\n    '<div class=\"col-xs-12 col-sm-10\"><ul><li><h3>{{article.title}}</h3></li><li><a href=\"{{article.url}}\" target=\"_newtab\">{{article.url}}</a></li><li>{{article.notes}}</li></ul></div><div class=\"col-sm-2 col-xs-12 text-center\"><button class=\"btn btn-block btn-add_analysis\" ng-click=\"analysis.analysis=!analysis.analysis\">Add Analysis</button> <button class=\"btn btn-block btn-edit\" ng-click=\"readyForm()\">Edit</button> <button class=\"btn btn-block btn-delete\" data-toggle=\"modal\" data-target=\"{{\\'#modal-article-\\' + article.id}}\">Delete</button></div><div ng-include=\"deleteModal\" ng-controller=\"ArticleDeleteCtrl\"></div><div ng-include=\"crossForm\" ng-controller=\"NewCrossCtrl\" ng-show=\"analysis.analysis\"></div>');\n}]);\n})();\n"],"sourceRoot":"/source/"}