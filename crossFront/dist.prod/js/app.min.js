"use strict";var cross=angular.module("cross",["crossServices","ngRoute","ngCookies","ngSanitize","ngResource","rzModule"]);cross.config(["$resourceProvider",function(e){e.defaults.stripTrailingSlashes=!1}]),cross.config(["$routeProvider",function(e){e.when("/",{templateUrl:"templates/articles.html",controller:"ArticleCtrl",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/login",{templateUrl:"templates/auth/login.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/userProfile",{templateUrl:"templates/auth/userprofile.html",controller:"ProfilePageCtrl",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/signUp",{templateUrl:"templates/auth/signup.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/verifyEmail/:emailVerificationToken",{templateUrl:"templates/auth/verifyemail.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/passwordReset",{templateUrl:"templates/auth/passwordreset.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/passwordResetConfirm/:firstToken/:passwordResetToken",{templateUrl:"templates/auth/passwordresetconfirm.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus()}]}}).when("/ethicsProfile",{templateUrl:"templates/includes/ethicsprofile.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).when("/company",{templateUrl:"templates/includes/company_score.html",resolve:{authenticated:["djangoAuth",function(e){return e.authenticationStatus(!0)}]}}).otherwise({redirectTo:"/"})}]),angular.module("cross").service("Validate",[function(){return{message:{minlength:"This value is not long enough.",maxlength:"This value is too long.",email:"A properly formatted email address is required.",required:"This field is required."},more_messages:{demo:{required:"Here is a sample alternative required message."}},check_more_messages:function(e,t){return(this.more_messages[e]||[])[t]||null},validation_messages:function(e,t,a){var r=[];for(var o in t[e].$error)if(t[e].$error[o]){var s=this.check_more_messages(e,o);s?r.push(s):this.message[o]?r.push(this.message[o]):r.push("Error: "+o)}var l=[];angular.forEach(r,function(e,t){-1===l.indexOf(e)&&l.push(e)}),a&&(a[e]=l)},form_validation:function(e,t){for(var a in e)"$"!=a.substr(0,1)&&this.validation_messages(a,e,t)}}}]);var crossServices=angular.module("crossServices",["ngResource"]);crossServices.factory("BaseUrl",[function(){var e="http://api.floodgaming.com/";return e}]),crossServices.factory("Article",["$resource","BaseUrl",function(e,t){return e(t+"articles/articles/:articleID/",{},{query:{method:"GET",params:{articleID:"untagged"},isArray:!0},queryTagged:{method:"GET",params:{articleID:"tagged"},isArray:!0},queryNoData:{method:"GET",params:{articleID:"noData"},isArray:!0},update:{method:"PUT"}})}]),crossServices.factory("eTag",["$resource","BaseUrl",function(e,t){return e(t+"tags/etags/:tagID/",{},{query:{method:"GET",params:{tagID:"list"},isArray:!0},update:{method:"PUT"}})}]),crossServices.factory("mTag",["$resource","BaseUrl",function(e,t){return e(t+"tags/mtags/:tagID/")}]),crossServices.factory("Meta",["$resource","BaseUrl",function(e,t){return e(t+"tags/formMeta/",{},{query:{method:"GET",params:{},isArray:!0}})}]),crossServices.factory("eType",["$resource","BaseUrl",function(e,t){return e(t+"tags/etypes/:tagTypeID/",{},{save:{method:"POST",params:{tagTypeID:"new"}}})}]),crossServices.factory("Pref",["$resource","BaseUrl",function(e,t){return e(t+"profile/prefs/:prefID/",{},{query:{method:"GET",params:{prefID:"all"},isArray:!0},update:{method:"PUT"}})}]),angular.module("cross").service("djangoAuth",["$q","$http","$cookies","$rootScope","BaseUrl",function(e,t,a,r,o){var s={API_URL:o+"rest-auth",use_session:!1,authenticated:null,authPromise:null,request:function(r){a.get("token")&&(t.defaults.headers.common.Authorization="Token "+a.get("token")),n=r.params||{},r=r||{};var o=e.defer(),s=this.API_URL+r.url,l=r.method||"GET",n=n,i=r.data||{};return t({url:s,withCredentials:this.use_session,method:l.toUpperCase(),headers:{"X-CSRFToken":a.csrftoken,"Access-Control-Allow-Credentials":"true"},params:n,data:i}).success(angular.bind(this,function(e,t,a,r){o.resolve(e,t)})).error(angular.bind(this,function(e,t,a,r){console.log("error syncing with: "+s),e&&(e.status=t),0===t&&(""===e&&(e={},e.status=0,e.non_field_errors=["Could not connect. Please try again."]),null===e&&(e={},e.status=0,e.non_field_errors=["Server timed out. Please try again."])),o.reject(e,t,a,r)})),o.promise},register:function(e,t,a,r,o){var s={username:e,password1:t,password2:a,email:r};return s=angular.extend(s,o),this.request({method:"POST",url:"/registration/",data:s})},login:function(e,o){var s=this;return this.request({method:"POST",url:"/login/",data:{username:e,password:o}}).then(function(e){if(!s.use_session){var o=new Date;o.setDate(o.getDate()+1),t.defaults.headers.common.Authorization="Token "+e.key,a.put("token",e.key,{expires:o})}s.authenticated=!0,r.$broadcast("djangoAuth.logged_in",e)})},logout:function(){var e=this;return this.request({method:"POST",url:"/logout/"}).then(function(o){delete t.defaults.headers.common.Authorization,a.remove("token"),a.remove("user"),e.authenticated=!1,r.$broadcast("djangoAuth.logged_out")})},changePassword:function(e,t){return this.request({method:"POST",url:"/password/change/",data:{new_password1:e,new_password2:t}})},resetPassword:function(e){return this.request({method:"POST",url:"/password/reset/",data:{email:e}})},profile:function(){return this.request({method:"GET",url:"/user/",params:{foobar:(new Date).getTime()}})},updateProfile:function(e){return this.request({method:"PATCH",url:"/user/",data:e})},verify:function(e){return this.request({method:"POST",url:"/registration/verify-email/",data:{key:e}})},confirmReset:function(e,t,a,r){return this.request({method:"POST",url:"/password/reset/confirm/",data:{uid:e,token:t,new_password1:a,new_password2:r}})},authenticationStatus:function(t,a){t=t||!1,a=a||!1,(null===this.authPromise||a)&&(this.authPromise=this.request({method:"GET",url:"/user/"}));var r=this,o=e.defer();return null===this.authenticated||a?this.authPromise.then(function(){r.authenticated=!0,o.resolve()},function(){r.authenticated=!1,t?o.reject("User is not logged in."):o.resolve()}):this.authenticated===!1&&t?o.reject("User is not logged in."):o.resolve(),o.promise},initialize:function(e,t){return this.API_URL=e,this.use_session=t,this.authenticationStatus()}};return s}]),angular.module("cross").controller("EthicsProfileCtrl",["$scope","Pref",function(e,t){e.prefs=t.query(),e.longerThanZero=function(e){return function(t){return t[e].length>0}}}]),angular.module("cross").controller("PrefEditCtrl",["$scope","Pref",function(e,t){e.profileState={editPref:!1},e.editPref=function(){e.profileState.editPref=!0,e.oldPref=e.pref.preference},e.savePref=function(){t.update({prefID:e.pref.id},e.pref,function(){e.profileState.editPref=!1},function(e){var t=JSON.stringify(e.data);console.log(t)})},e.cancelEdit=function(){e.pref.preference=e.oldPref,e.profileState.editPref=!1}}]),angular.module("cross").controller("CompanyScoreCtrl",["$scope","$http","BaseUrl",function(e,t,a){t.get(a+"articles/companies/all/").then(function(t){e.companies=t.data},function(e){console.log(e.data)}),e.getCompanyScore=function(){e.selectedCompany&&t.get(a+"profile/scores/company/"+e.selectedCompany.id+"/").then(function(t){e.activeCompany=e.selectedCompany.name,console.log(t.data),e.categories=t.data},function(e){console.log(e.data)})}}]),angular.module("cross").controller("ProfilePageCtrl",["$scope","$cookies",function(e,t){e.model=t.getObject("user")||$.extend({},e.user)}]),angular.module("cross").controller("UserprofileCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.updateProfile=function(r,o){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.updateProfile(o).then(function(t){e.complete=!0},function(t){e.error=t})}}]),angular.module("cross").controller("LoginCtrl",["$scope","$location","djangoAuth","Validate",function(e,t,a,r){e.login=function(o){e.errors=[],r.form_validation(o,e.errors),o.$invalid||a.login(e.model.username,e.model.password).then(function(e){t.path("/")},function(t){e.errors=t})}}]),angular.module("cross").controller("PasswordchangeCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.model={new_password1:"",new_password2:""},e.complete=!1,e.changePassword=function(r){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.changePassword(e.model.new_password1,e.model.new_password2).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("cross").controller("RegisterCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.model={email:"",password:""},e.complete=!1,e.register=function(r){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.register(e.model.username,e.model.password1,e.model.password2,e.model.email).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("cross").controller("VerifyemailCtrl",["$scope","$routeParams","djangoAuth",function(e,t,a){a.verify(t.emailVerificationToken).then(function(t){e.success=!0},function(t){e.failure=!1})}]),angular.module("cross").controller("PasswordresetCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.model={email:""},e.complete=!1,e.resetPassword=function(r){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.resetPassword(e.model.email).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("cross").controller("UserprofileCtrl",["$scope","djangoAuth","Validate",function(e,t,a){e.complete=!1,e.updateProfile=function(r,o){e.errors=[],a.form_validation(r,e.errors),r.$invalid||t.updateProfile(o).then(function(t){e.complete=!0},function(t){e.error=t})}}]),angular.module("cross").controller("PasswordresetconfirmCtrl",["$scope","$routeParams","djangoAuth","Validate",function(e,t,a,r){e.model={new_password1:"",new_password2:""},e.complete=!1,e.confirmReset=function(o){e.errors=[],r.form_validation(o,e.errors),o.$invalid||a.confirmReset(t.firstToken,t.passwordResetToken,e.model.new_password1,e.model.new_password2).then(function(t){e.complete=!0},function(t){e.errors=t})}}]),angular.module("cross").controller("ArticleCtrl",["$scope","$http","Article","Meta",function(e,t,a,r){e.csrftoken=$.cookie("csrftoken"),e.articles=a.query(),e.taggedArticles=a.queryTagged(),e.noDataArticles=a.queryNoData(),r.query(function(t,a){e.companies=t[0].company,e.categories=t[1].ethicssubcategory}),e.deleteModal="templates/includes/delete_modal.html",e.removeFromList=function(e,t){var a=0;t.some(function(t,r){return t.id===e.id?(a=r,!0):void 0}),t.splice(a,1)},e.loginModal="templates/includes/login_modal.html",e.ifAuthenticated=function(t){return function(){e.authenticated?t():$("#login_modal").modal("toggle")}}}]),angular.module("cross").controller("SingleArticleCtrl",["$scope","Article",function(e,t){e.tagForm="templates/includes/tag_form.html",e.articleTemplate="templates/includes/article_base.html",e.state={addTag:!1},e.error={error:!1,msg:""},e.cancel=!0,e.articleSubmit=function(){e.tempArticle.csrfmiddlewaretoken=e.csrftoken,t.update({articleID:e.article.id},e.tempArticle,function(){e.articleTemplate="templates/includes/article_base.html",e.article=$.extend({},e.tempArticle)},function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0})},e.readyForm=e.ifAuthenticated(function(){e.tempArticle=$.extend({},e.article),e.articleTemplate="templates/includes/article_form.html"}),e.toggleAddTag=e.ifAuthenticated(function(){e.state.addTag=!e.state.addTag}),e.articleDelete=e.ifAuthenticated(function(){$("#modal-article-"+e.article.id).modal("toggle")}),e.flipBack=function(){e.articleTemplate="templates/includes/article_base.html"},e.tagCancel=function(){e.state.addTag=!1}}]),angular.module("cross").controller("NewArticleCtrl",["$scope","Article",function(e,t){e.articleForm="templates/includes/article_form.html",e.error={error:!1,msg:""},e.success={success:!1,msg:"Your article has been sucessfully submitted"},e.tempArticle={id:0,url:"",title:"",notes:""},e.articleSubmit=e.ifAuthenticated(function(){e.tempArticle.csrfmiddlewaretoken=e.csrftoken,t.save({articleID:"new"},e.tempArticle,function(t,a){e.articles.push(t),e.tempArticle={id:0,url:"",title:"",notes:""},e.error.error=!1,e.success.success=!0},function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0,e.success.success=!1})})}]),angular.module("cross").controller("ArticleDeleteCtrl",["$scope","Article",function(e,t){e.modalContent={id:"modal-article-"+e.article.id,label:"modalLabel-article-"+e.article.id,kind:"Article",title:e.article.title,msg:"This will not only remove the article, but any associated tags as well.  This cannot be undone"},e.itemDelete=function(){e.article.csrfmiddlewaretoken=e.csrftoken,t["delete"]({articleID:e.article.id},function(){e.articles.some(function(t,a,r){return t.id===e.article.id})?e.removeFromList(e.article,e.articles):e.removeFromList(e.article,e.crossList),$("myModal"+e.article.id).modal("toggle"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})}}]),angular.module("cross").controller("ArticleNoDataCtrl",["$scope","mTag",function(e,t){e.noData=function(){var a={article:e.article.id,tag_type:1};t.save({tagID:"new"},a,function(t,a){e.noDataArticles.push(e.article),e.removeFromList(e.article,e.articles)},function(e){console.log("error.  Check network tab")})}}]),angular.module("cross").controller("ArticleRestoreCtrl",["$scope","mTag",function(e,t){e.noDataRestore=function(){t["delete"]({tagID:e.article.metatags[0]},function(){delete e.article.metatags,e.articles.push(e.article),e.removeFromList(e.article,e.noDataArticles)},function(e){console.log("error.  Check network tab")})}}]),angular.module("cross").controller("SingleTagCtrl",["$scope","eTag",function(e,t){e.buttons=!1,e.tagUrl="templates/includes/tag_base.html",e.tagEdit=e.ifAuthenticated(function(){e.tagUrl="templates/includes/tag_form.html",e.newTag=$.extend({},e.tag),e.newTag.company=$.grep(e.companies,function(t){return t.name===e.newTag.company})[0].id;var t=$.grep(e.categories,function(t){return t.name===e.newTag.tag_type.subcategory})[0];e.newTag.subcategory=t.id,e.tagTypes=t.tag_types,e.newTag.tag_type=e.tag.tag_type.id}),e.tagDelete=e.ifAuthenticated(function(){$("#modal-tag-"+e.article.id+"-"+e.tag.id).modal("toggle")}),e.tagCancel=function(){e.tagUrl="templates/includes/tag_base.html"},e.tagSubmit=function(){e.newTag.article=e.article.id,t.update({tagID:e.tag.id},e.newTag,function(t,a){t.company=$.grep(e.companies,function(e){return e.id===t.company})[0].name;var r=$.grep(e.categories,function(t){return t.id===e.newTag.subcategory})[0];t.tag_type={name:$.grep(r.tag_types,function(e){return e.id===t.tag_type})[0].name,subcategory:r.name,id:t.tag_type},e.tag=$.extend({},t),e.error.error=!1,e.tagUrl="templates/includes/tag_base.html"},function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0})}}]),angular.module("cross").controller("NewTagCtrl",["$scope","eTag",function(e,t){e.newTag={company:"",subcategory:"",tag_type:"",excerpt:"",value:void 0,article:e.article.id},e.tagSubmit=function(){e.newTag.csrfmiddlewaretoken=e.csrftoken,t.save({tagID:"new"},e.newTag,function(t,a){e.article.ethicstags=e.article.ethicstags||[],t.company=$.grep(e.companies,function(e){return e.id===t.company})[0].name;var r=$.grep(e.categories,function(t){return t.id===e.newTag.subcategory})[0];t.tag_type={name:$.grep(r.tag_types,function(e){return e.id===t.tag_type})[0].name,subcategory:r.name,id:t.tag_type},e.article.ethicstags.push(t),e.state.addTag=!1,e.error.error=!1,1===e.article.ethicstags.length&&(e.taggedArticles.push(e.article),e.removeFromList(e.article,e.articles)),e.newTag={company:"",subcategory:"",tag_type:"",excerpt:"",value:void 0,article:e.article.id}},function(t){e.error.msg=JSON.stringify(t.data),e.error.error=!0})}}]),angular.module("cross").controller("TagFormCtrl",["$scope","eType",function(e,t){e.tagFormState={addTagType:!1},e.newTagType={name:""},e.showNewTagType=function(t){t.preventDefault(),t.stopPropagation(),e.tagFormState.addTagType=!e.tagFormState.addTagType},e.submitTagType=function(a){a.preventDefault(),a.stopPropagation(),e.newTagType.subcategory=e.newTag.subcategory,t.save(e.newTagType,function(t,a){var r=0;e.categories.some(function(t,a){return t.id===e.newTag.subcategory?(r=a,!0):void 0}),e.categories[r].tag_types.push(t),e.newTag.tag_type=t.id,e.tagFormState.addTagType=!1},function(t){console.log(t.data),e.error.msg=JSON.stringify(t.data),e.error.error=!0})},e.loadFacts=function(){e.tagTypes=$.grep(e.categories,function(t){return t.id===e.newTag.subcategory})[0].tag_types}}]),angular.module("cross").controller("DeleteTagCtrl",["$scope","eTag",function(e,t){e.modalContent={id:"modal-tag-"+e.article.id+"-"+e.tag.id,label:"modalLabel-cross-"+e.article.id+"-"+e.tag.id,kind:"Tag",title:e.tag.tag_type.name+" on "+e.article.title,msg:"This cannot be undone"},e.itemDelete=function(){t["delete"]({tagID:e.tag.id},function(t,a){e.removeFromList(e.tag,e.article.ethicstags),0===e.article.ethicstags.length&&(e.removeFromList(e.article,e.taggedArticles),e.articles.push(e.article)),$("myModal"+e.article.id).modal("toggle"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})}}]),angular.module("cross").controller("LoginModalCtrl",["$scope","$location",function(e,t){e.goToLogin=function(){t.path("/login"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()},e.goToSignUp=function(){t.path("/signUp"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}}]),angular.module("cross").controller("BodyCtrl",["$scope","djangoAuth","$location","$cookies",function(e,t,a,r){var o={};e.authenticated=!1,e.user={username:"",first_name:"",last_name:"",email:""},t.authenticationStatus(!0).then(function(){e.authenticated=!0,t.profile().then(function(t){o=new Date,o.setDate(o.getDate()+14),e.user=t,r.putObject("user",t,{expires:o})})}),e.$on("djangoAuth.logged_out",function(t){e.authenticated=!1,e.user={username:"",first_name:"",last_name:"",email:""}}),e.$on("djangoAuth.logged_in",function(a){e.authenticated=!0,t.profile().then(function(t){o=new Date,o.setDate(o.getDate()+14),e.user=t,r.putObject("user",t,{expires:o})})}),e.$on("$routeChangeError",function(e,t,r,o){console.error("Unable to change routes.  Error: ",o),a.path("/login").replace()}),e.logout=function(){t.logout()}}]),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/verifyemail.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="verifyEmail_view" ng-controller="VerifyemailCtrl"><div ng-if="success" class="alert alert-success">You have successfully verified your email address.</div><div ng-if="failure" class="alert alert-warning">Sorry, there\'s been an error.</div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/userprofile.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><h2 class="light-header">Edit Profile Information</h2><div id="userProfile_view" ng-controller="UserprofileCtrl"><div ng-if="complete == false"><form role="form" ng-if="authenticated" name="userProfileForm" ng-submit="updateProfile(userProfileForm, model)" novalidate><div class="form-group"><label for="id_first_name">First Name</label><input name="first_name" id="id_first_name" class="form-control" type="text" ng-model="model.first_name" placeholder="First Name"></div><div class="alert alert-danger" ng-repeat="error in errors.first_name">{{error}}</div><div class="form-group"><label for="id_last_name">Last Name</label><input name="last_name" id="id_last_name" class="form-control" type="text" ng-model="model.last_name" placeholder="Last Name"></div><div class="alert alert-danger" ng-repeat="error in errors.last_name">{{error}}</div><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button type="submit" ng-show="authenticated" class="btn btn-primary">Update Profile</button></form><div class="alert alert-warning" ng-if="authenticated == false">You need to be logged in to do this.</div></div><div ng-if="complete == true"><div class="alert alert-success">You have updated your profile.</div></div></div><div id="passwordChange_view" ng-controller="PasswordchangeCtrl"><h2 class="light-header">Change Password</h2><div ng-if="complete == false"><form role="form" ng-submit="changePassword(changePasswordForm)" name="changePasswordForm" ng-if="authenticated" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="new_password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="new_password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.new_password2">{{error}}</div><button ng-show="authenticated" type="submit" class="btn btn-primary">Change Password</button></form><div class="alert alert-warning" ng-if="authenticated != true">You need to be logged in to do this!</div></div><div ng-if="complete == true"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/signup.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="register_view" ng-controller="RegisterCtrl"><div ng-if="complete == false"><h3 class="light-header">Please Enter Your Registration Information:</h3><form role="form" ng-if="authenticated != true" name="registerForm" ng-submit="register(registerForm)" novalidate><div class="form-group"><label class="sr-only" for="id_first_name">First Name (optional)</label><input name="first_name" id="id_first_name" class="form-control" type="first_name" ng-model="model.first_name" placeholder="First Name" required></div><div class="form-group"><label class="sr-only" for="id_last_name">Last Name (optional)</label><input name="last_name" id="id_last_name" class="form-control" type="last_name" ng-model="model.last_name" placeholder="Last Name" required></div><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" class="form-control" type="username" ng-model="model.username" placeholder="Username" required></div><div class="form-group"><label class="sr-only" for="id_email">Email</label><input name="email" id="id_email" class="form-control" type="email" ng-model="model.email" placeholder="Email" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><hr><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password1" id="id_password1" class="form-control" type="password" ng-model="model.password1" placeholder="Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Repeat Password</label><input name="password" id="id_password2" class="form-control" type="password" ng-model="model.password2" placeholder="Repeat Password" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-block btn-auth-orange">Sign Up!</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to register.</p></div><div ng-if="complete == true"><div class="alert alert-success">Great! You\'ve just registered. You should receive an email shortly with instructions on how to activate your account.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordresetconfirm.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="passwordResetConfirm_view" ng-controller="PasswordresetconfirmCtrl"><div ng-hide="complete"><form role="form" ng-hide="authenticated" ng-submit="confirmReset(confirmResetForm)" name="confirmResetForm" novalidate><div class="form-group"><label for="id_password1">New Password</label><input name="password1" id="id_password1" type="password" ng-model="model.new_password1" placeholder="New Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password1">{{error}}</div><div class="form-group"><label for="id_password2">Repeat Password</label><input name="password2" id="id_password2" type="password" ng-model="model.new_password2" placeholder="Repeat Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.password2">{{error}}</div><button type="submit" ng-hide="authenticated" class="btn btn-primary">Reset Password</button></form><p ng-show="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-show="complete"><div class="alert alert-success">You have changed your password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/passwordreset.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6"><div id="passwordReset_view" ng-controller="PasswordresetCtrl"><div ng-if="complete == false"><form role="form" ng-if="authenticated != true" name="passwordResetForm" ng-submit="resetPassword(passwordResetForm)" novalidate><div class="form-group"><label for="id_email">Email</label><input name="email" id="id_email" type="text" ng-model="model.email" placeholder="Email" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><button ng-hide="authenticated" type="submit" class="btn btn-primary">Reset Password</button></form><p ng-if="authenticated">You are already logged in! You don\'t need to reset your password.</p></div><div ng-if="complete == true"><div class="alert alert-success">You should receive an email shortly with instructions on how to reset your account password.</div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/auth/login.html",'<div class="container"><div class="row v-center"><div class="col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6">\'<div id="login_view" ng-controller="LoginCtrl"><h4 class="light-header">Please Log In</h4><form role="form" ng-submit="login(loginForm)" name="loginForm" novalidate><div class="form-group"><label class="sr-only" for="id_username">Username</label><input name="username" id="id_username" type="text" ng-model="model.username" placeholder="Username" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.email">{{error}}</div><div class="form-group"><label class="sr-only" for="id_password">Password</label><input name="password" id="id_password" type="password" ng-model="model.password" placeholder="Password" class="form-control" required></div><div class="alert alert-danger" ng-repeat="error in errors.username">{{error}}</div><div class="alert alert-danger" ng-repeat="error in errors.password">{{error}}</div><div class="alert alert-danger" ng-repeat="error in errors.non_field_errors">{{error}}</div><div class="alert alert-danger" ng-if="error">{{error}}</div><p><button type="submit" class="btn btn-block btn-succes">Submit</button></p></form><div><p>Forgot your password? Click <a href="#/passwordReset">here</a></p></div></div><hr><h4>Don\'t have an Axiologue account? Sign up below!</h4><a href="#/signUp" class="btn btn-block btn-primary">Sign Up</a></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/tag_form.html",'<div class="col-xs-12 listitem" ng-controller="TagFormCtrl"><h3 class="text-danger" ng-show="error.error">{{error.msg}}</h3><form ng-submit="tagSubmit()"><div class="form-group"><label for="{{\'companies\' + article.id}}">COMPANY:</label><select ng-model="newTag.company" class="form-control" ng-options="company.id as company.name for company in companies"><option value="">---- Select Company ----</option></select></div><div class="form-group"><label for="{{\'companies\' + article.id}}">CATEGORY:</label><select ng-model="newTag.subcategory" class="form-control" ng-options="category.id as category.name group by category.category for category in categories" ng-change="loadFacts()"><option value="">---- Select Ethics Category ----</option></select></div><div class="form-group"><label for="{{\'companies\' + article.id}}">TAG TYPE:</label><select ng-model="newTag.tag_type" class="form-control" ng-options="tagType.id as tagType.name for tagType in tagTypes"><option value="">---- Select Tag Type ----</option></select><p class="help-block">Don\'t see the tag you want? <a ng-click="showNewTagType($event)">Add it!</a></p></div><div class="form-group" ng-show="tagFormState.addTagType"><label for="{{\'newTagType\' + article.id}}">NEW TAG TYPE:</label><input ng-model="newTagType.name" class="form-control" placeholder="Enter Your New Tag Here"> <button class="btn btn-edit btn-block" ng-click="submitTagType($event)">Add Tag Type</button></div><div class="form-group" ng-show="newTag.tag_type"><label for="{{\'NewTagValue\' + article.id}}">VALUE (Only for relevant tags):</label><input ng-model="newTag.value" class="form-control" placeholder="Enter amount for tag modifier"></div><div class="form-group"><label for="{{\'crossNotes\' + article.id}}">EXCERPT:</label><textarea rows="3" ng-model="newTag.excerpt" name="notes" id="{{\'excerpt\' + article.id}}" class="form-control"></textarea></div><input type="submit" class="btn btn-primary btn-block" value="Submit"></form><button class="btn btn-delete btn-block" ng-click="tagCancel()">Cancel</button></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/tag_base.html",'<div class="col-xs-12 col-sm-10"><dl><dt>{{tag.tag_type.name}}<span class="score" ng-show="tag.value">: {{tag.value}}</span></dt><dd>{{tag.company}} {{tag.product}} (category: {{tag.tag_type.subcategory}})</dd><dd><span class="text-muted">"{{tag.excerpt}}"</span></dd></dl></div><div class="col-xs-12 col-sm-2 tagButtons" ng-show="buttons"><button class="btn btn-sm btn-edit" ng-click="tagEdit()">Edit</button> <button class="btn btn-sm btn-delete" ng-click="tagDelete()">Delete</button></div><div ng-include="deleteModal" ng-controller="DeleteTagCtrl"></div>')}])}(),function(e){try{e=angular.module("cross");
}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/login_modal.html",'<div id="login_modal" class="modal fade" tab-index="-1" role="dialog" aria-labelledby="login_modal_content" ng-controller="LoginModalCtrl"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="login_modal_content">You must log in to to do that!</h4></div><div class="modal-body text-center"><button ng-click="goToLogin()" class="btn btn-block btn-primary">Login</button><p>or</p><button ng-click="goToSignUp()" class="btn btn-block btn-success">Sign Up</button></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/ethicsprofile.html",'<div class="container"><div class="row" ng-controller="EthicsProfileCtrl"><div class="col-xs-12" ng-repeat="category in prefs"><h1>{{category.category}}</h1><div class="col-xs-12" ng-repeat="sub in category.sub | filter: longerThanZero(\'prefs\')"><h2>{{sub.sub}}</h2><div class="col-xs-12 listitem" ng-repeat="pref in sub.prefs" ng-controller="PrefEditCtrl"><div class="col-xs-12 col-sm-10"><h3><strong>{{pref.type}}</strong>: <span ng-class="{\'score-positive\':pref.preference>0,\'score-negative\':pref.preference<0,\'score-neutral\':preference==0}">{{pref.preference}}</span></h3></div><div class="col-xs-12 col-sm-2"><button class="btn btn-edit btn-block" ng-hide="profileState.editPref" ng-click="editPref()">Change</button></div><div class="col-xs-12" ng-show="profileState.editPref"><rzslider rz-slider-model="pref.preference" rz-slider-floor="-5" rz-slider-ceil="5" rz-slider-show-ticks="true"></rzslider><div class="btn-group btn-group-justified" role="group" aria-label="Preference Controls"><a class="btn btn-delete" ng-click="cancelEdit()">Cancel</a> <a class="btn btn-primary" ng-click="savePref()">Save Changes</a></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/delete_modal.html",'<div id="{{modalContent.id}}" class="modal fade" tab-index="-1" role="dialog" aria-labelledby="{{\'#\' + modalContent.label}}"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="{{modalContent.label}}">Delete {{modalContent.kind}}?</h4></div><div class="modal-body"><p>Are you sure you want to delete the {{modalContent.kind.toLowerCase()}} <em>{{modalContent.title}}</em></p><p>{{modalContent.msg}}</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button> <button type="button" class="btn btn-primary" ng-click="itemDelete()">Delete</button></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/company_score.html",'<div class="container" ng-controller="CompanyScoreCtrl"><div class="row"><div class="col-xs-12"><form class="form-inline" ng-submit="getCompanyScore()"><div class="form-group"><label for="company_selector">Get Score for Company:</label><select class="form-control" ng-model="selectedCompany" id="company_select" ng-options="company as company.name for company in companies"><option value="">----- Select Company ------</option></select></div><input type="submit" class="btn btn-primary" value="Submit"></form></div><hr><h1>{{activeCompany}}</h1><div class="panel-group" id="outer_accordion" role="tablist" aria-multiselectable="true" ng-show="activeCompany"><div class="panel panel-default" ng-repeat="category in categories"><div class="panel-heading" role="tab" id="cat_header_{{category.id}}"><h4 class="panel-title"><button role="button" data-toggle="collapse" data-parent="#outer_accordion" data-target="#cat_content_{{category.id}}" aria-expanded="false" aria-controls="cat_content_{{category.id}}" class="accordion-button">{{category.category}} :<span ng-class="{\'score-positive\':category.score>0,\'score-negative\':category.score<0,\'score-neutral\':category.score==0}">{{category.score}}</span></button></h4></div><div id="cat_content_{{category.id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="cat_header_{{category.id}}"><div class="panel-body"><div class="panel-group" id="inner_accordion_{{category.id}}" role="tablist" aria-multiselectable="true"><div class="panel panel-default" ng-repeat="subcat in category.subcategories"><div class="panel-heading" role="tab" id="cat_header_{{category.id}}_{{subcat.id}}"><h4 class="panel-title"><button role="button" data-toggle="collapse" data-parent="#inner_accordion_{{category.id}}" data-target="#cat_content_{{category.id}}_{{subcat.id}}" aria-expanded="false" aria-controls="cat_content_{{category.id}}_{{subcat.id}}" class="accordion-button">{{subcat.subcategory}} :<span ng-class="{\'score-positive\':subcat.score>0,\'score-negative\':subcat.score<0,\'score-neutral\':subcat.score==0}">{{subcat.score}}</span></button></h4></div><div id="cat_content_{{category.id}}_{{subcat.id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="cat_header_{{category.id}}_{{subcat.id}}"><div class="panel-body"><ul><li ng-repeat="tag in subcat.tags">{{tag.tag_type}} : <span ng-class="{\'score-positive\':tag.score>0,\'score-negative\':tag.score<0,\'score-neutral\':tag.score==0}">{{tag.score}}</span></li></ul></div></div></div></div></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/article_form.html",'<div class="listitem"><h3 class="text-danger" ng-show="error.error">{{error.msg}}</h3><h3 class="text-success" ng-show="success.success">{{success.msg}}</h3><form ng-submit="articleSubmit()"><div class="form-group"><label for="{{\'title\' + article.id}}">TITLE:</label><input type="text" id="{{\'title\' + article.id}}" ng-model="tempArticle.title" name="title" class="form-control"></div><div class="form-group"><label for="{{\'url\' + article.id}}">URL:</label><input type="text" id="{{\'url\' + article.id}}" ng-model="tempArticle.url" name="url" class="form-control"></div><div class="form-group"><label for="{{\'notes\' + article.id}}">NOTES:</label><textarea rows="3" ng-model="tempArticle.notes" name="notes" id="{{\'notes\' + article.id}}" class="form-control"></textarea></div><input type="submit" class="btn btn-primary btn-block" value="Submit"></form><button class="btn btn-delete btn-block" ng-click="flipBack()" ng-show="cancel">Cancel</button></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/includes/article_base.html",'<div class="col-xs-12 col-sm-10"><ul><li><h3>{{article.title}}</h3></li><li><a href="{{article.url}}" target="_newtab">{{article.url}}</a></li><li>{{article.notes}}</li></ul></div><div class="col-sm-2 col-xs-12 text-center"><button class="btn btn-block btn-add_analysis" ng-click="toggleAddTag()">Add Tag</button> <button class="btn btn-block btn-edit" ng-click="readyForm()">Edit</button> <button class="btn btn-block btn-delete" ng-click="articleDelete()">Delete</button></div><div ng-include="deleteModal" ng-controller="ArticleDeleteCtrl"></div><div ng-include="tagForm" ng-controller="NewTagCtrl" ng-show="state.addTag"></div>')}])}(),function(e){try{e=angular.module("cross")}catch(t){e=angular.module("cross",[])}e.run(["$templateCache",function(e){e.put("templates/articles.html",'<div class="container" id="taggedArticles"><div class="taggedArticles row"><h1>Analyzed Articles</h1><div class="listitem col-xs-12" ng-repeat="article in taggedArticles"><div class="article listitem col-xs-12" ng-controller="SingleArticleCtrl"><div class="col-xs-12" ng-include="articleTemplate"></div><div class="col-xs-12 tag" ng-repeat="tag in article.ethicstags" ng-controller="SingleTagCtrl" ng-mouseenter="buttons=true" ng-mouseleave="buttons=false"><div ng-include="tagUrl"></div></div></div></div></div></div><div class="container" id="articles"><div class="articleList row"><h1>Add New article</h1><div class="col-xs-12 listitem" ng-controller="NewArticleCtrl"><div ng-include="articleForm"></div></div><h1>Unanalyzed Articles</h1><div class="article listitem col-xs-12" ng-repeat="article in articles" ng-controller="SingleArticleCtrl"><div class="col-xs-12" ng-include="articleTemplate"></div><div class="col-xs-12 col-sm-2 col-sm-offset-10 noDataWrapper"><button class="btn btn-block btn-noData" ng-controller="ArticleNoDataCtrl" ng-click="noData()">No Relevant Data</button></div></div></div></div><div class="container"><div class="row"><h1>Articles Marked As Having No Relevant Data</h1><div class="article listitem col-xs-12" ng-repeat="article in noDataArticles" ng-controller="ArticleRestoreCtrl"><div class="col-xs-12 col-sm-10"><ul><li><h3>{{article.title}}</h3></li><li><a href="{{article.url}}" target="_newtab">{{article.url}}</a></li><li>{{article.notes}}</li></ul></div><div class="col-sm-2 col-xs-12 text-center"><button class="btn btn-block btn-add_analysis" ng-click="noDataRestore()">Restore</button></div></div></div></div><div ng-include="loginModal"></div>')}])}();
//# sourceMappingURL=../maps/app.min.js.map
